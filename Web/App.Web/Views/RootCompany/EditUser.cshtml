@model EditUserDto

@{
    ViewBag.Title = "Update User Account";
    //int i = 0;
}

<partial name="PageBannerStartPartialView" />


<!-- ========== Data Area start============= -->
<div class="dashboard-area pt-120 mb-120">
    <div class="container">
        <div class="row g-lg-4 gy-5 mb-90">
            <div class="col-lg-12">
                <div class="form-wrapper">
                    <form asp-action="" method="post" class="profile-form">
                        <div class="section-title2">
                            <h5 class="d-flex align-items-baseline gap-1"><img src="~/assets/images/icon/profile-settings.svg" alt=""> @Model.FirstName @Model.LastName Account Settings </h5>
                        </div>
                        <div class="change-password-area mb-40">

                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="info-title">
                                        <h6>Account Information</h6>
                                        <div class="dash"></div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="FirstName">First Name</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user-2.svg" alt="">
                                            <input type="text" asp-for="FirstName" placeholder="First Name">
                                        </div>
                                        <span asp-validation-for="FirstName" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="LastName">Last Name</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user-2.svg" alt="">
                                            <input type="text" asp-for="LastName" placeholder="Last Name">
                                        </div>
                                        <span asp-validation-for="LastName" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="FirstNameArabic">First Name Arabic</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user-2.svg" alt="">
                                            <input type="text" asp-for="FirstNameArabic" placeholder="First Name">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="LastNameArabic">Last Name Arabic</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user-2.svg" alt="">
                                            <input type="text" asp-for="LastNameArabic" placeholder="Last Name">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="UserName">UserName</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user-2.svg" alt="">
                                            <input type="text" asp-for="UserName" placeholder="Username">
                                        </div>
                                        <span asp-validation-for="UserName" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="Email">Email</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/email-2.svg" alt="">
                                            <input type="email" asp-for="Email" placeholder="info@example.com">
                                        </div>
                                        <span asp-validation-for="Email" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="PhoneNumber">Phone Number</label>
                                        <div class="input-area">
                                            <img src="~/assets/images/icon/phone-2.svg" alt="">
                                            <input type="text" asp-for="PhoneNumber" placeholder="Phone Number">
                                        </div>
                                        <span asp-validation-for="PhoneNumber" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-inner mb-25">
                                        <label asp-for="UserStatus">User Status</label>

                                        <div class="input-area">
                                            <img src="~/assets/images/icon/user.svg" alt="">
                                            <select asp-for="UserStatus" class="select1">
                                                <option value="">Select User Status</option>
                                                <option value="True">Active</option>
                                                <option value="False">Inactive</option>
                                            </select>
                                        </div>
                                        <span asp-validation-for="UserStatus" class="alert-danger"></span>
                                    </div>
                                </div>
                                <div class="col-md-12 pt-10">
                                    <div class="form-inner">
                                        <button class="primry-btn-1 lg-btn w-unset" type="submit" asp-action="EditUser">Update Change</button>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="change-password-area mb-40">
                            <div class="phone-email-area">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="info-title">
                                            <h6>Assigned Roles</h6>
                                            <div class="dash"></div>
                                        </div>
                                    </div>
                                    <div id="PlaceHolderHere"></div>
                                    @if (Model.Roles.Any())
                                    {
                                        @foreach (var role in Model.Roles)
                                        {
                                            <div class="col-md-3">
                                                <div class="form-inner mb-25">
                                                    <button type="button" class="eg-btn yellow-btn">@role</button>
                                                </div>
                                            </div>
                                        }

                                    }
                                    else
                                    {
                                        <div class="col-md-6">
                                            <div class="form-inner mb-25">
                                                <label>No Roles for @Model.UserName</label>
                                            </div>
                                        </div>
                                    }
                                    <div class="col-md-12 pt-10">
                                        <div class="form-inner">
                                            <button class="primry-btn-1 lg-btn w-unset" type="button"
                                                    data-toggle="ajax-modal"
                                                    data-target="#addRole"
                                                    data-url="@Url.Action($"ManageUserRoles/{Model.Id}")">
                                                Manage Roles
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="change-password-area mb-40">
                            <div class="phone-email-area">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="info-title">
                                            <h6>Assigned Permissions</h6>
                                            <div class="dash"></div>
                                        </div>
                                    </div>
                                    <div id="PlaceHolderPermission"></div>
                                    @if (Model.Claims.Any())
                                    {
                                        @foreach (var claim in Model.Claims)
                                        {
                                            <div class="col-md-3">
                                                <div class="form-inner mb-25">
                                                    <button type="button" class="eg-btn yellow-btn">@claim</button>
                                                </div>
                                            </div>
                                        }

                                    }
                                    else
                                    {
                                        <div class="col-md-6">
                                            <div class="form-inner mb-25">
                                                <label>No Permissions for @Model.FirstName @Model.LastName</label>
                                            </div>
                                        </div>
                                    }
                                    <div class="col-md-12 pt-10">
                                        <div class="form-inner">
                                            <button id="permissionbtn" class="primry-btn-1 lg-btn w-unset" type="button"
                                                    data-toggle="ajax-modal"
                                                    data-target="#addPermission"
                                                    data-url="@Url.Action($"ManageUserPermission?userId={Model.Id}")">
                                                Manage Permissions
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ========== Data Area end============= -->
